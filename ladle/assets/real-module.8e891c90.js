import{r as l,R as m}from"./index.2c206a08.js";import{l as L}from"./module.e0305831.js";class x{getStringForLocale(e,t){let r=this.strings[t];r||(r=v(t,this.strings,this.defaultLocale),this.strings[t]=r);let n=r[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}function v(a,e,t="en-US"){if(e[a])return e[a];let r=w(a);if(e[r])return e[r];for(let n in e)if(n.startsWith(r+"-"))return e[n];return e[t]}function w(a){return Intl.Locale?new Intl.Locale(a).language:a.split("-")[0]}const u=new Map,$=new Map;class S{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let o=this.locale+":"+r,f=u.get(o);f||(f=new Intl.PluralRules(this.locale,{type:r}),u.set(o,f));let p=f.select(e);return n=t[p]||t.other,typeof n=="function"?n():n}number(e){let t=$.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),$.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const y=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),I=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function R(a){if(Intl.Locale){let t=new Intl.Locale(a).maximize().script;return y.has(t)}let e=a.split("-")[0];return I.has(e)}function g(){let a=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([a])}catch{a="en-US"}return{locale:a,direction:R(a)?"rtl":"ltr"}}let s=g(),c=new Set;function d(){s=g();for(let a of c)a(s)}function C(){let a=L(),[e,t]=l.exports.useState(s);return l.exports.useEffect(()=>(c.size===0&&window.addEventListener("languagechange",d),c.add(t),()=>{c.delete(t),c.size===0&&window.removeEventListener("languagechange",d)}),[]),a?{locale:"en-US",direction:"ltr"}:e}const M=m.createContext(null);function h(){let a=C();return l.exports.useContext(M)||a}const b=new WeakMap;function F(a){let e=b.get(a);return e||(e=new x(a),b.set(a,e)),e}function U(a){let{locale:e}=h(),t=l.exports.useMemo(()=>F(a),[a]);return l.exports.useMemo(()=>new S(e,t),[e,t])}let i=new Map;function z(a){let{locale:e}=h(),t=e+(a?Object.entries(a).sort((n,o)=>n[0]<o[0]?-1:1).join():"");if(i.has(t))return i.get(t);let r=new Intl.Collator(e,a);return i.set(t,r),r}export{U as $,h as a,z as b};
