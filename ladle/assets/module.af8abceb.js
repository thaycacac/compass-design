import{r as g,R as C,$ as Z}from"./index.c85b1806.js";import{c as R,p as G,q as J,j as ee,r as te,s as V,m as oe,t as j}from"./module.aab4c89e.js";import{c as le}from"./module.4cf21eb3.js";import{a as re}from"./real-module.259e257f.js";const k={top:"top",bottom:"top",left:"left",right:"left"},A={top:"bottom",bottom:"top",left:"right",right:"left"},ne={top:"left",left:"top"},W={top:"height",left:"width"},O={};let L=typeof window<"u"&&window.visualViewport;function ae(e){let t=0,o=0,l=0,n=0,a={};if(e.tagName==="BODY"){let d=document.documentElement;var s;t=(s=L==null?void 0:L.width)!==null&&s!==void 0?s:d.clientWidth;var r;o=(r=L==null?void 0:L.height)!==null&&r!==void 0?r:d.clientHeight,a.top=d.scrollTop||e.scrollTop,a.left=d.scrollLeft||e.scrollLeft}else({width:t,height:o,top:l,left:n}=y(e)),a.top=e.scrollTop,a.left=e.scrollLeft;return{width:t,height:o,scroll:a,top:l,left:n}}function ie(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function B(e,t,o,l,n){let a=l.scroll[e],s=l[W[e]],r=t-n-a,d=t+n-a+o;return r<0?-r:d>s?Math.max(s-d,-r):0}function ce(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function K(e){if(O[e])return O[e];let[t,o]=e.split(" "),l=k[t]||"right",n=ne[l];k[o]||(o="center");let a=W[l],s=W[n];return O[e]={placement:t,crossPlacement:o,axis:l,crossAxis:n,size:a,crossSize:s},O[e]}function N(e,t,o,l,n,a,s,r){let{placement:d,crossPlacement:m,axis:$,crossAxis:c,size:f,crossSize:u}=l,i={};i[c]=e[c],m==="center"?i[c]+=(e[u]-o[u])/2:m!==c&&(i[c]+=e[u]-o[u]),i[c]+=a;let p=e[c]+e[u]/2-o[u],w=e[c]+e[u]/2;if(i[c]=Math.min(Math.max(p,i[c]),w),d===$){const v=r?s[f]:t[f];i[A[$]]=Math.floor(v-e[$]+n)}else i[$]=Math.floor(e[$]+e[f]+n);return i}function se(e,t,o,l,n,a){return e.top!=null?Math.max(0,t.height+t.top+t.scroll.top-(o.top+e.top)-(n.top+n.bottom+a)):Math.max(0,l.top+o.top-(t.top+t.scroll.top)-(n.top+n.bottom+a))}function X(e,t,o,l,n,a){let{placement:s,axis:r,size:d}=a;return s===r?Math.max(0,o[r]-e[r]-e.scroll[r]+t[r]-l[r]-l[A[r]]-n):Math.max(0,e[d]+e[r]+e.scroll[r]-t[r]-o[r]-o[d]-l[r]-l[A[r]]-n)}function de(e,t,o,l,n,a,s,r,d,m,$,c,f){let u=K(e),{size:i,crossAxis:p,crossSize:w,placement:v,crossPlacement:x}=u,h=N(t,r,o,u,m,$,d,c),T=m,P=X(r,d,t,n,a+m,u);if(s&&l[i]>P){let F=K(`${A[v]} ${x}`),Q=N(t,r,o,F,m,$,d,c);X(r,d,t,n,a+m,F)>P&&(u=F,h=Q,T=m)}let E=B(p,h[p],o[w],r,a);h[p]+=E;let H=se(h,r,d,t,n,a);f&&f<H&&(H=f),o.height=Math.min(o.height,H),h=N(t,r,o,u,T,$,d,c),E=B(p,h[p],o[w],r,a),h[p]+=E;let D={};return D[p]=t[p]-h[p]+t[w]/2,{position:h,maxHeight:H,arrowOffsetLeft:D.left,arrowOffsetTop:D.top,placement:u.placement}}function fe(e){let{placement:t,targetNode:o,overlayNode:l,scrollNode:n,padding:a,shouldFlip:s,boundaryElement:r,offset:d,crossOffset:m,maxHeight:$}=e,c=l instanceof HTMLElement&&l.offsetParent||document.body,f=c.tagName==="BODY";const u=window.getComputedStyle(c).position;let i=!!u&&u!=="static",p=f?y(o):_(o,c);if(!f){let{marginTop:P,marginLeft:E}=window.getComputedStyle(o);p.top+=parseInt(P,10)||0,p.left+=parseInt(E,10)||0}let w=y(l),v=ce(l);w.width+=v.left+v.right,w.height+=v.top+v.bottom;let x=ie(n),h=ae(r),T=r.tagName==="BODY"?y(c):_(c,r);return de(t,p,w,x,v,a,s,h,T,d,m,i,$)}function y(e){let{top:t,left:o,width:l,height:n}=e.getBoundingClientRect(),{scrollTop:a,scrollLeft:s,clientTop:r,clientLeft:d}=document.documentElement;return{top:t+a-r,left:o+s-d,width:l,height:n}}function _(e,t){let o=window.getComputedStyle(e),l;if(o.position==="fixed"){let{top:n,left:a,width:s,height:r}=e.getBoundingClientRect();l={top:n,left:a,width:s,height:r}}else{l=y(e);let n=y(t),a=window.getComputedStyle(t);n.top+=(parseInt(a.borderTopWidth,10)||0)-t.scrollTop,n.left+=(parseInt(a.borderLeftWidth,10)||0)-t.scrollLeft,l.top-=n.top,l.left-=n.left}return l.top-=parseInt(o.marginTop,10)||0,l.left-=parseInt(o.marginLeft,10)||0,l}const ue=new WeakMap;function pe(e){let{triggerRef:t,isOpen:o,onClose:l}=e;g.exports.useEffect(()=>{if(!o||l===null)return;let n=a=>{let s=a.target;if(!t.current||s instanceof Node&&!s.contains(t.current))return;let r=l||ue.get(t.current);r&&r()};return window.addEventListener("scroll",n,!0),()=>{window.removeEventListener("scroll",n,!0)}},[o,l,t])}let S=typeof window<"u"&&window.visualViewport;function Ie(e){let{direction:t}=re(),{targetRef:o,overlayRef:l,scrollRef:n=l,placement:a="bottom",containerPadding:s=12,shouldFlip:r=!0,boundaryElement:d=typeof document<"u"?document.body:null,offset:m=0,crossOffset:$=0,shouldUpdatePosition:c=!0,isOpen:f=!0,onClose:u,maxHeight:i}=e,[p,w]=g.exports.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),v=[c,a,l.current,o.current,n.current,s,r,d,m,$,f,t,i],x=g.exports.useCallback(()=>{c===!1||!f||!l.current||!o.current||!n.current||!d||w(fe({placement:$e(a,t),overlayNode:l.current,targetNode:o.current,scrollNode:n.current,padding:s,shouldFlip:r,boundaryElement:d,offset:m,crossOffset:$,maxHeight:i}))},v);R(x,v),me(x),G({ref:l,onResize:x});let h=g.exports.useRef(!1);R(()=>{let P,E=()=>{h.current=!0,clearTimeout(P),P=setTimeout(()=>{h.current=!1},500),x()};return S==null||S.addEventListener("resize",E),()=>{S==null||S.removeEventListener("resize",E)}},[x]);let T=g.exports.useCallback(()=>{h.current||u()},[u,h]);return pe({triggerRef:o,isOpen:f,onClose:u&&T}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...p.position,maxHeight:p.maxHeight}},placement:p.placement,arrowProps:{style:{left:p.arrowOffsetLeft,top:p.arrowOffsetTop}},updatePosition:x}}function me(e){R(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function $e(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const b=[];function Me(e,t){let{onClose:o,shouldCloseOnBlur:l,isOpen:n,isDismissable:a=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:r}=e;g.exports.useEffect(()=>(n&&b.push(t),()=>{let i=b.indexOf(t);i>=0&&b.splice(i,1)}),[n,t]);let d=()=>{b[b.length-1]===t&&o&&o()},m=i=>{(!r||r(i.target))&&b[b.length-1]===t&&(i.stopPropagation(),i.preventDefault())},$=i=>{(!r||r(i.target))&&(b[b.length-1]===t&&(i.stopPropagation(),i.preventDefault()),d())},c=i=>{i.key==="Escape"&&!s&&(i.stopPropagation(),i.preventDefault(),d())};J({ref:t,onInteractOutside:a?$:null,onInteractOutsideStart:m});let{focusWithinProps:f}=ee({isDisabled:!l,onBlurWithin:i=>{i.relatedTarget&&le(i.relatedTarget)||(!r||r(i.relatedTarget))&&o()}}),u=i=>{i.target===i.currentTarget&&i.preventDefault()};return{overlayProps:{onKeyDown:c,...f},underlayProps:{onPointerDown:u}}}const Y=typeof window<"u"&&window.visualViewport,he=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Re(e={}){let{isDisabled:t}=e;R(()=>{if(!t)return te()?ve():ge()},[t])}function ge(){return V(M(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),M(document.documentElement,"overflow","hidden"))}function ve(){let e,t=0,o=c=>{e=j(c.target),!(e===document.documentElement&&e===document.body)&&(t=c.changedTouches[0].pageY)},l=c=>{if(e===document.documentElement||e===document.body){c.preventDefault();return}let f=c.changedTouches[0].pageY,u=e.scrollTop,i=e.scrollHeight-e.clientHeight;(u<=0&&f>t||u>=i&&f<t)&&c.preventDefault(),t=f},n=c=>{let f=c.target;U(f)&&f!==document.activeElement&&(c.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},a=c=>{let f=c.target;U(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",Y&&(Y.height<window.innerHeight?requestAnimationFrame(()=>{q(f)}):Y.addEventListener("resize",()=>q(f),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},r=window.pageXOffset,d=window.pageYOffset,m=V(M(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),M(document.documentElement,"overflow","hidden"),M(document.body,"marginTop",`-${d}px`));window.scrollTo(0,0);let $=V(I(document,"touchstart",o,{passive:!1,capture:!0}),I(document,"touchmove",l,{passive:!1,capture:!0}),I(document,"touchend",n,{passive:!1,capture:!0}),I(document,"focus",a,!0),I(window,"scroll",s));return()=>{m(),$(),window.scrollTo(r,d)}}function M(e,t,o){let l=e.style[t];return e.style[t]=o,()=>{e.style[t]=l}}function I(e,t,o,l){return e.addEventListener(t,o,l),()=>{e.removeEventListener(t,o,l)}}function q(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let o=j(e);if(o!==document.documentElement&&o!==document.body&&o!==e){let l=o.getBoundingClientRect().top,n=e.getBoundingClientRect().top;n>l+e.clientHeight&&(o.scrollTop+=n-l)}e=o.parentElement}}function U(e){return e instanceof HTMLInputElement&&!he.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const z=C.createContext(null);function we(e){let{children:t}=e,o=g.exports.useContext(z),[l,n]=g.exports.useState(0),a=g.exports.useMemo(()=>({parent:o,modalCount:l,addModal(){n(s=>s+1),o&&o.addModal()},removeModal(){n(s=>s-1),o&&o.removeModal()}}),[o,l]);return C.createElement(z.Provider,{value:a},t)}function xe(){let e=g.exports.useContext(z);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function be(e){let{modalProviderProps:t}=xe();return C.createElement("div",{"data-overlay-container":!0,...e,...t})}function Ee(e){return C.createElement(we,null,C.createElement(be,e))}function He(e){let t=oe(),{portalContainer:o=t?null:document.body,...l}=e;if(C.useEffect(()=>{if(o!=null&&o.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[o]),!o)return null;let n=C.createElement(Ee,l);return Z.createPortal(n,o)}function Oe(e){let t=g.exports.useContext(z);if(!t)throw new Error("Modal is not contained within a provider");return g.exports.useEffect(()=>{if(!((e==null?void 0:e.isDisabled)||!t||!t.parent))return t.parent.addModal(),()=>{t&&t.parent&&t.parent.removeModal()}},[t,t.parent,e==null?void 0:e.isDisabled]),{modalProps:{"data-ismodal":!(e!=null&&e.isDisabled)}}}const Ce=C.createContext(null);function Ae(){let e=g.exports.useContext(Ce),t=e==null?void 0:e.setContain;R(()=>{t==null||t(!0)},[t])}export{Ee as $,He as a,Me as b,Re as c,Oe as d,Ae as e,Ie as f};
