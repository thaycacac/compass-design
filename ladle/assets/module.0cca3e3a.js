import{r as s}from"./index.0f267953.js";function h(t,m,l){let[f,i]=s.exports.useState(t||m),u=s.exports.useRef(t!==void 0),a=u.current,e=t!==void 0,r=s.exports.useRef(f);a!==e&&console.warn(`WARN: A component changed from ${a?"controlled":"uncontrolled"} to ${e?"controlled":"uncontrolled"}.`),u.current=e;let x=s.exports.useCallback((n,...p)=>{let d=(o,...c)=>{l&&(Object.is(r.current,o)||l(o,...c)),e||(r.current=o)};typeof n=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((c,...$)=>{let b=n(e?r.current:c,...$);return d(b,...p),e?c:b})):(e||i(n),d(n,...p))},[e,l]);return e?r.current=t:t=f,[t,x]}export{h as $};
