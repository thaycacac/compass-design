import{s as w,t as I}from"./index.b548d30f.js";import{r as D,s as n,R as L,j as O,a as s}from"./index.2c206a08.js";import{$ as g,b as p,a as j,m as B}from"./module.e0305831.js";import{$ as q}from"./module.78443986.js";import{$ as T}from"./module.83bce4ed.js";import{I as M}from"./index.1c00c966.js";import{u as z}from"./use-dom-ref.133a614a.js";function A(e,r,a){let{isDisabled:t=!1,isRequired:o,isReadOnly:i,value:d,name:f,children:c,"aria-label":u,"aria-labelledby":b,validationState:l="valid"}=e,$=y=>{y.stopPropagation(),r.setSelected(y.target.checked)},h=c!=null,k=u!=null||b!=null;!h&&!k&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:S}=g({isDisabled:t}),{focusableProps:P}=q(e,a),v=p(S,P),R=j(e,{labelable:!0});return{inputProps:p(R,{"aria-invalid":l==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,"aria-required":o||void 0,onChange:$,disabled:t,...d==null?{}:{value:d},name:f,type:"checkbox",...v})}}function E(e={}){let{isReadOnly:r}=e,[a,t]=T(e.isSelected,e.defaultSelected||!1,e.onChange);function o(d){r||t(d)}function i(){r||t(!a)}return{isSelected:a,setSelected:o,toggle:i}}function N(e,r,a){let{inputProps:t}=A(e,r,a),{isSelected:o}=r,{isIndeterminate:i}=e;return D.exports.useEffect(()=>{a.current&&(a.current.indeterminate=i)}),{inputProps:{...t,checked:o,"aria-checked":i?"mixed":o}}}const m=n("input",{position:"absolute",opacity:0,height:0,width:0,cursor:"pointer"}),x=n("span",{position:"absolute",top:0,left:0,height:"$4",width:"$4",backgroundColor:"$whiteText",borderWidth:"$light",borderStyle:"solid",borderColor:"$activeBorder",borderRadius:"$md",transition:"$button",variants:{rounded:{true:{borderRadius:"$full"}},disabled:{true:{backgroundColor:"$whiteText",borderColor:"$gray50"}}}}),C=n("span",{display:"none",color:"$whiteText",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",".icon":{width:"$3",height:"$3"}}),W=n("span",{marginLeft:"$7"}),F=n("label",{display:"block",position:"relative",fontSize:"$label1",cursor:"pointer",userSelect:"none",[`${m}:checked ~ ${x}`]:{borderColor:"$cdgBlue",backgroundColor:"$cdgBlue",[`${C}`]:{display:"flex"}},[`${m}:disabled:checked ~ ${x}`]:{borderColor:"$gray50",backgroundColor:"$gray50"}}),X=L.forwardRef((e,r)=>{const{css:a={},isDisabled:t=!1,children:o,isIndeterminate:i=!1,variant:d="default",...f}=e,c={isDisabled:t,...f},u=E(c),b=z(r),{inputProps:l}=N(c,u,b),{hoverProps:$}=B({isDisabled:l.disabled}),{pressProps:h}=g({isDisabled:l.disabled});return O(F,{css:a,...p($,h),children:[s(m,{type:"checkbox",ref:b,...l}),s(x,{disabled:!!t,rounded:d==="rounded",children:s(C,{children:s(M,{icon:i?w:I,className:"icon"})})}),s(W,{children:o})]})});export{X as C};
